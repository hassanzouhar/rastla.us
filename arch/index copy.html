<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rastlaus | Strategic AI & Data Leadership</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.js"></script>
    <!-- Include Marked.js library for Markdown parsing -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
        /* --- CSS Styles (Unchanged - Keep all styles from previous version) --- */

         /* Add styles for loading/error states and parsed content */
        .markdown-content { /* Container for parsed MD */
            margin-top: 1.5rem;
        }
        .loading-indicator, .error-message {
            font-style: italic;
            color: var(--text-lighter);
            padding: 2rem 0;
            text-align: center;
        }
        .error-message {
            color: #ff6b6b; /* Reddish error color */
            font-weight: bold;
        }
        /* Basic styling for elements generated from Markdown */
        .markdown-content h1,
        .markdown-content h2,
        .markdown-content h3,
        .markdown-content h4 {
            margin-top: 1.8em;
            margin-bottom: 0.8em;
            color: var(--text-color);
            font-weight: 600;
        }
        .markdown-content h1 { font-size: clamp(1.8rem, 5vw, 2.4rem); color: var(--primary-accent); }
        .markdown-content h2 { font-size: clamp(1.6rem, 4.5vw, 2.1rem); color: var(--primary-accent); }
        .markdown-content h3 { font-size: clamp(1.4rem, 4vw, 1.8rem); }
        .markdown-content h4 { font-size: clamp(1.2rem, 3.5vw, 1.5rem); }

        .markdown-content p { margin-bottom: 1.2em; }
        .markdown-content ul,
        .markdown-content ol { margin-left: 2em; margin-bottom: 1.2em; }
        .markdown-content li { margin-bottom: 0.5em; }
        .markdown-content blockquote {
            border-left: 4px solid var(--border-color-stronger);
            padding-left: 1em;
            margin: 1.5em 0;
            color: var(--text-light);
            font-style: italic;
        }
        .markdown-content code:not(pre code) { /* Inline code */
            background-color: rgba(255, 255, 255, 0.1);
            padding: 0.2em 0.4em;
            border-radius: 3px;
            font-size: 0.9em;
            color: var(--secondary-accent);
        }
        .markdown-content pre { /* Code blocks */
             background: #222; color: #ccc; padding: 1.5rem; border-radius: var(--card-border-radius);
             overflow-x: auto; border: 1px solid var(--border-color);
             margin: 1.5em 0;
             box-shadow: inset 0 2px 5px rgba(0,0,0,0.3);
        }
         .markdown-content pre code { font-family: 'Courier New', Courier, monospace; font-size: 0.95rem; background: none; padding: 0;}
         .markdown-content table {
             width: 100%;
             border-collapse: collapse;
             margin: 1.5em 0;
         }
         .markdown-content th, .markdown-content td {
             border: 1px solid var(--border-color-stronger);
             padding: 0.6em 0.8em;
             text-align: left;
         }
         .markdown-content th {
             background-color: var(--surface-color-lighter);
             font-weight: 600;
         }
         .markdown-content img {
             max-width: 100%;
             height: auto;
             border-radius: var(--card-border-radius);
             margin: 1em 0;
         }
         /* --- End of Added/Modified Styles --- */

         /* 1. Basic Reset & Variables */
        :root {
            --bg-color: #121212;
            --surface-color: rgba(28, 28, 28, 0.92); /* Slightly more opaque main surface */
            --surface-color-lighter: rgba(40, 40, 40, 0.9); /* For nested cards/sections */
            --text-color: #e8e8e8; /* Slightly brighter text */
            --primary-accent: #4db8ff;
            --secondary-accent: #66ccff;
            --border-color: #4a4a4a; /* Slightly more visible border */
            --border-color-stronger: #666;
            --link-color: var(--secondary-accent);
            --link-hover-color: #99ddff; /* Brighter hover */
            --button-bg: #007bff;
            --button-hover-bg: #0056b3;
            --text-light: #d0d0d0;
            --text-lighter: #b0b0b0;
            --focus-outline: 3px solid var(--primary-accent); /* Thicker focus */
            --main-border-radius: 12px; /* More pronounced radius */
            --card-border-radius: 8px;
        }

        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.7; /* Slightly increased line height */
            font-size: 16px;
        }

        /* 2. Layout & Background */
        #p5-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }

        .site-header {
            padding: 1rem 5%;
            background-color: rgba(22, 22, 22, 0.85); /* Slightly adjusted header */
            backdrop-filter: blur(8px);
            position: sticky;
            top: 0;
            z-index: 10;
            border-bottom: 1px solid var(--border-color);
        }

        .header-content {
            max-width: 1100px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }

        .logo a { text-decoration: none; }
        .logo h1 {
            font-size: clamp(1.8rem, 4vw, 2.5rem);
            font-weight: 700; /* Bolder logo */
            color: #ffffff;
            margin: 0;
            letter-spacing: 1px;
        }
        .logo span {
            font-size: 0.8rem;
            color: var(--text-lighter);
            font-style: italic;
            display: block;
            margin-top: 0.1rem;
        }

        nav ul { list-style: none; display: flex; gap: 1.5rem; }
        nav a {
            color: var(--text-light);
            text-decoration: none;
            font-weight: 500;
            padding: 0.5rem 0.1rem; /* Add horizontal padding */
            position: relative;
            transition: color 0.2s ease;
            border-radius: 3px; /* Slight rounding for focus */
        }
        nav a::after {
             content: ''; position: absolute; width: 0; height: 2px; bottom: 0; left: 0;
             background-color: var(--primary-accent); transition: width 0.3s ease;
        }
        nav a:hover, nav a:focus, nav a.active { color: #ffffff; }
        nav a:hover::after, nav a:focus::after, nav a.active::after { width: 100%; }

        /* Main content area */
        .content-wrapper {
            max-width: 900px; /* Slightly wider */
            width: 90%;
            margin: 2.5rem auto; /* More top margin */
            padding: 2.5rem; /* More padding */
            position: relative;
            z-index: 1;
            background: linear-gradient(145deg, rgba(35, 35, 35, 0.93), rgba(25, 25, 25, 0.9)); /* Subtle gradient */
            border-radius: var(--main-border-radius);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.6); /* Stronger shadow */
            border: 1px solid rgba(70, 70, 70, 0.5); /* Subtle border */
            min-height: 60vh;
        }

        /* View switching */
        .view { display: none; animation: fadeIn 0.6s ease-in-out; }
        .view.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* 3. Common Elements */
        h2 { /* Main view titles */
            font-size: clamp(2rem, 5.5vw, 2.8rem); /* Larger titles */
            margin-bottom: 2.5rem;
            color: #ffffff;
            font-weight: 700;
            border-bottom: 3px solid var(--primary-accent);
            padding-bottom: 0.7rem;
            display: inline-block;
        }
        h3 { /* Sub-headings / Section titles */
            font-size: clamp(1.5rem, 4.5vw, 2rem); /* Larger */
            margin-bottom: 1.5rem;
            color: var(--primary-accent);
            font-weight: 600;
        }
        h4 { /* Item titles (blog/project) */
            font-size: clamp(1.3rem, 4vw, 1.6rem); /* Larger */
            margin-bottom: 0.8rem;
            color: var(--text-color);
            font-weight: 600;
        }

        p { margin-bottom: 1.3rem; color: var(--text-light); }
        a { color: var(--link-color); text-decoration: none; transition: color 0.2s ease; border-radius: 2px;}
        a:hover, a:focus { color: var(--link-hover-color); text-decoration: underline; }
        strong { color: var(--secondary-accent); font-weight: 600; }

        .button, button {
            display: inline-block;
            background-image: linear-gradient(to right, var(--button-bg), #006bdd); /* Button gradient */
            color: #ffffff;
            padding: 12px 25px;
            border-radius: var(--card-border-radius); /* Match card radius */
            text-decoration: none;
            font-weight: bold;
            transition: transform 0.2s ease, box-shadow 0.3s ease;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            box-shadow: 0 2px 5px rgba(0, 123, 255, 0.3);
        }
        .button:hover, button:hover, .button:focus, button:focus {
            background-image: linear-gradient(to right, #006bdd, var(--button-bg));
            transform: translateY(-3px) scale(1.02); /* More pronounced hover */
            box-shadow: 0 4px 10px rgba(0, 123, 255, 0.4);
            color: #ffffff; text-decoration: none; outline: none; /* Remove default, rely on transform/shadow */
        }
        /* Explicit focus style when not hovering */
        .button:focus:not(:hover), button:focus:not(:hover) {
             outline: var(--focus-outline);
             outline-offset: 2px;
        }

        /* Accessibility: Focus Styles */
        a:focus, input:focus, textarea:focus {
             outline: var(--focus-outline); outline-offset: 3px;
        }
        /* Remove button outline when button:focus handles it */
        button:focus { outline: none; }


        /* 4. Specific View Styles */

        /* ---- Front Page Collections ---- */
        .front-page-grid {
            display: grid;
            grid-template-columns: 1fr; /* Single column layout for now */
            gap: 2.5rem; /* Space between sections */
        }
        .front-collection {
            background-color: var(--surface-color-lighter);
            padding: 2rem;
            border-radius: var(--card-border-radius);
            border: 1px solid var(--border-color);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }
        .front-collection h3 { /* Collection titles */
            margin-top: 0;
            margin-bottom: 1.5rem;
            color: var(--text-color); /* White for contrast */
            border-bottom: 1px solid var(--border-color-stronger);
            padding-bottom: 0.5rem;
            font-size: clamp(1.4rem, 4vw, 1.8rem);
        }
        .collection-list {
            list-style: none;
            padding: 0;
        }
        .collection-list li {
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px dashed var(--border-color);
        }
        .collection-list li:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }
        .collection-list a {
            font-weight: 500;
            font-size: 1.1rem;
            display: block; /* Make link take full width */
        }
        .collection-list .item-meta {
            font-size: 0.85rem;
            color: var(--text-lighter);
            display: block;
            margin-top: 0.3rem;
        }
        /* Focus Areas Styling (Example) */
        .focus-areas-list {
            list-style: none;
            padding: 0;
            display: flex; /* Flex layout for icons/text */
            flex-wrap: wrap;
            gap: 1.5rem;
        }
        .focus-areas-list li {
             flex-basis: calc(50% - 1rem); /* Two columns roughly */
             display: flex;
             align-items: center;
             gap: 0.8rem;
             padding-bottom: 0; border-bottom: none; /* Override default list style */
        }
        .focus-areas-list svg { /* Placeholder for icons */
             width: 30px;
             height: 30px;
             fill: var(--primary-accent);
             flex-shrink: 0;
        }
        /* ---- End Front Page ---- */


        /* Blog List */
        .blog-list article {
            margin-bottom: 2.5rem; padding-bottom: 1.5rem;
            border-bottom: 1px solid var(--border-color);
        }
        .blog-list article:last-child { border-bottom: none; margin-bottom: 0; }
        .blog-meta { font-size: 0.9rem; color: var(--text-lighter); margin-bottom: 0.5rem; }

        /* Single Post View */
        #view-post .post-header { margin-bottom: 1.5rem; } /* Space for title/meta before content */
        #view-post .back-link { display: inline-block; margin-bottom: 1.5rem; font-weight: 500;}


        /* Project List */
        .project-grid {
             display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem;
        }
        .project-card {
            background-color: var(--surface-color-lighter);
            padding: 1.8rem; /* More padding */
            border-radius: var(--card-border-radius);
            border: 1px solid var(--border-color);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            display: flex; flex-direction: column; /* Ensure tags stay at bottom */
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.2);
        }
        .project-card:hover {
             transform: translateY(-6px);
             box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
             border-color: var(--border-color-stronger);
        }
        .project-card h4 { margin-top: 0;}
        .project-card p { flex-grow: 1; } /* Push tags down */
        .project-tags { margin-top: 1rem; font-size: 0.85rem; }
        .project-tags span {
             display: inline-block; background-color: #3a3a3a; color: var(--text-light);
             padding: 4px 10px; border-radius: 10px; /* Pill shape */
             margin-right: 6px; margin-bottom: 6px; font-size: 0.8rem;
        }

        /* Contact Form */
        .contact-form label { display: block; margin-bottom: 0.6rem; font-weight: 500; color: var(--text-light); }
        .contact-form input[type="text"],
        .contact-form input[type="email"],
        .contact-form textarea {
            width: 100%; padding: 12px; margin-bottom: 1.2rem;
            border: 1px solid var(--border-color-stronger);
            background-color: #252525; color: var(--text-color);
            border-radius: var(--card-border-radius); font-size: 1rem;
            transition: border-color 0.2s ease, box-shadow 0.2s ease;
        }
         .contact-form input[type="text"]:focus,
        .contact-form input[type="email"]:focus,
        .contact-form textarea:focus {
             border-color: var(--primary-accent);
             box-shadow: 0 0 8px rgba(77, 184, 255, 0.3);
             outline: none; /* Use box-shadow instead */
        }
        .contact-form textarea { min-height: 160px; resize: vertical; }
        .contact-form button { margin-top: 1rem; }

        /* Footer */
        .site-footer {
            margin-top: 4rem; padding: 2rem 5%; border-top: 1px solid var(--border-color);
            font-size: 0.9rem; color: var(--text-lighter); text-align: center;
            background-color: rgba(22, 22, 22, 0.85);
        }
        .footer-links a { color: var(--text-light); margin: 0 12px; }
        .footer-links a:hover, .footer-links a:focus { color: var(--primary-accent); }

        /* 5. Responsiveness */
        @media (max-width: 960px) {
             .content-wrapper { width: 95%; }
        }
        @media (max-width: 768px) {
            .header-content { flex-direction: column; align-items: flex-start; }
            nav ul { margin-top: 1rem; gap: 1rem; flex-wrap: wrap; }
            .content-wrapper { padding: 2rem; margin-top: 2rem; }
            h2 { font-size: 1.8rem; }
            h3 { font-size: 1.6rem; }
            .front-page-grid { gap: 2rem; }
            .front-collection { padding: 1.5rem; }
            .focus-areas-list li { flex-basis: 100%; } /* Stack focus items */
        }
        @media (max-width: 480px) {
             body { font-size: 15px; }
             .content-wrapper { padding: 1.5rem; border-radius: 8px;} /* Less radius on small */
             nav ul { gap: 0.8rem; }
             nav a { padding: 0.3rem 0.1rem; }
             .button, button { padding: 10px 20px; font-size: 0.95rem;}
             .front-collection { padding: 1.2rem; }
             h2 {font-size: 1.6rem; margin-bottom: 2rem;}
             h3 {font-size: 1.4rem;}
             h4 {font-size: 1.2rem;}
        }

        /* Accessibility: Reduced Motion */
        @media (prefers-reduced-motion: reduce) {
          *, *::before, *::after {
            animation-duration: 0.01ms !important; animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important; scroll-behavior: auto !important;
          }
          #p5-background { display: none; } /* Hide animation entirely */
          body.reduced-motion #p5-background { display: none; } /* Ensure it stays hidden */
        }
        /* Add reduced motion class to body */
        body.reduced-motion * {
             /* Add any specific overrides for reduced motion if needed */
        }

    </style>
</head>
<body>
    <!-- IMPORTANT NOTE: -->
    <!-- Fetching local Markdown files requires running this HTML file -->
    <!-- through a simple local web server (like Python's http.server or Node's live-server). -->
    <!-- Opening it directly via file:// will likely block the fetch requests due to browser security. -->
    <!-- Example: `python -m http.server` in this directory, then open http://localhost:8000 -->

    <div id="p5-background" aria-hidden="true"></div>

    <header class="site-header">
        <!-- ... Header Content ... -->
         <div class="header-content">
            <div class="logo"> <a href="#"> <h1>Rastlaus</h1> <span>(Norwegian: Restless)</span> </a> </div>
            <nav role="navigation" aria-label="Main Navigation">
                <ul>
                    <li><a href="#" data-view="front" class="nav-link">Home</a></li>
                    <li><a href="#blog" data-view="blog" class="nav-link">Blog</a></li>
                    <li><a href="#projects" data-view="projects" class="nav-link">Projects</a></li>
                    <li><a href="#contact" data-view="contact" class="nav-link">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="content-wrapper" id="main-content" role="main">
        <!-- Views (Front, Blog List, Post Detail, Projects, Contact) -->
        <!-- ... (Keep all view divs unchanged) ... -->

         <!-- View: Front Page (Dashboard/Collection Style) -->
        <div id="view-front" class="view active">
            <div class="front-page-grid">

                <!-- Welcome Section -->
                <section class="front-collection" aria-labelledby="welcome-heading">
                    <h3 id="welcome-heading">Welcome</h3>
                    <p>I'm <strong>[Your Name]</strong>, a seasoned technology professional exploring the intersection of <strong>Artificial Intelligence</strong>, data, and human potential. My focus is on driving meaningful change by building systems that help us work smarter, not harder.</p>
                    <p>This space gathers insights from that restless journey. Explore recent thoughts, projects, and connect if you share a passion for data-driven innovation.</p>
                </section>

                <!-- Latest Blog Posts Section -->
                <section class="front-collection" aria-labelledby="latest-posts-heading">
                    <h3 id="latest-posts-heading">Latest Blog Posts</h3>
                    <ul class="collection-list" id="latest-posts-list">
                        <li>Loading latest posts...</li>
                    </ul>
                    <a href="#blog" data-view="blog" class="button" style="margin-top: 1rem;">View All Posts</a>
                </section>

                <!-- Recent Projects Section -->
                <section class="front-collection" aria-labelledby="recent-projects-heading">
                    <h3 id="recent-projects-heading">Recent Projects</h3>
                     <ul class="collection-list" id="recent-projects-list">
                         <li>Loading recent projects...</li>
                    </ul>
                    <a href="#projects" data-view="projects" class="button" style="margin-top: 1rem;">View All Projects</a>
                </section>

                <!-- Key Focus Areas Section -->
                <section class="front-collection" aria-labelledby="focus-areas-heading">
                     <h3 id="focus-areas-heading">Key Focus Areas</h3>
                     <ul class="focus-areas-list">
                        <li> <!-- Replace SVG with actual icons if desired -->
                            <svg viewBox="0 0 24 24" focusable="false" aria-hidden="true"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"/></svg>
                            <span><strong>AI Strategy & Implementation:</strong> Practical, value-driven AI solutions.</span>
                        </li>
                         <li>
                            <svg viewBox="0 0 24 24" focusable="false" aria-hidden="true"><path d="M20 18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2h-4zM4 6h16v10H4V6z"/></svg>
                            <span><strong>Agent Orchestration:</strong> Designing coordinated autonomous systems.</span>
                        </li>
                         <li>
                            <svg viewBox="0 0 24 24" focusable="false" aria-hidden="true"><path d="M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7z"/></svg>
                            <span><strong>Neural Networks & Deep Learning:</strong> Exploring deep insights and predictive power.</span>
                        </li>
                        <li>
                            <svg viewBox="0 0 24 24" focusable="false" aria-hidden="true"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2zm-4 4H7v-2h6v2zm4-8H7V7h10v2z"/></svg>
                            <span><strong>Data-Driven Transformation:</strong> Using data for strategic decisions.</span>
                        </li>
                     </ul>
                </section>

            </div>
        </div>

        <!-- View: Blog List -->
        <div id="view-blog" class="view">
            <h2>Blog</h2>
            <div class="blog-list" id="blog-list-full">
                <p class="loading-indicator">Loading posts...</p>
            </div>
        </div>

        <!-- View: Single Blog Post (Content fetched from MD) -->
        <div id="view-post" class="view">
            <a href="#blog" data-view="blog" class="back-link">« Back to Blog List</a>
            <div class="post-header">
                <h2 id="post-title" style="margin-bottom: 0.5rem;"></h2>
                <p class="blog-meta" id="post-meta" style="margin-bottom: 1.5rem;"></p>
            </div>
            <!-- Loading indicator moved inside container for better reset -->
            <div id="post-content-area">
                 <p class="loading-indicator">Loading content...</p>
                <article class="markdown-content" id="post-content"></article>
            </div>
        </div>

        <!-- View: Projects -->
        <div id="view-projects" class="view">
             <h2>Projects</h2>
            <p>A selection of personal explorations and conceptual projects focused on AI, data analysis, and automation.</p>
            <div class="project-grid" id="project-grid-full">
                 <p class="loading-indicator">Loading projects...</p>
            </div>
        </div>

        <!-- View: Contact -->
        <div id="view-contact" class="view">
             <h2>Contact</h2>
            <p>Interested in collaborating or discussing opportunities? Reach out via the form below or connect on LinkedIn.</p>
            <div style="margin-bottom: 2rem;">
                <strong>Email:</strong> <a href="mailto:[your.email@example.com]">[your.email@example.com]</a> <br>
                <strong>LinkedIn:</strong> <a href="[Link to your LinkedIn Profile]" target="_blank" rel="noopener noreferrer">[Your LinkedIn Profile Name]</a>
            </div>
            <form class="contact-form" action="#" method="POST" onsubmit="alert('Form submission placeholder. Replace with actual logic.'); return false;">
                  <div> <label for="name">Name:</label> <input type="text" id="name" name="name" required aria-required="true"> </div>
                 <div> <label for="email">Email:</label> <input type="email" id="email" name="email" required aria-required="true"> </div>
                  <div> <label for="subject">Subject:</label> <input type="text" id="subject" name="subject"> </div>
                 <div> <label for="message">Message:</label> <textarea id="message" name="message" required aria-required="true"></textarea> </div>
                 <button type="submit">Send Message</button>
            </form>
        </div>

    </main>

    <footer class="site-footer">
        <!-- ... Footer Content ... -->
         <div class="footer-links">
            <a href="mailto:[your.email@example.com]">Email</a> |
            <a href="[Link to your LinkedIn Profile]" target="_blank" rel="noopener noreferrer">LinkedIn</a>
        </div>
        <p style="margin-top: 1rem;">© <span id="currentYear"></span> Rastlaus | [Your Name]. All Rights Reserved.</p>
        <p style="font-style: italic; font-size: 0.85rem; margin-top: 0.5rem;">Building a better future, one intelligent system at a time.</p>
    </footer>

    <!-- ============================================= -->
    <!-- ALL JAVASCRIPT CODE GOES INSIDE THIS SCRIPT TAG -->
    <!-- ============================================= -->
    <script>
        // --- Configuration ---
        const blogPostsConfig = [ // Define your blog posts here
            { slug: 'agent-orchestration-frameworks', title: 'Thoughts on Agent Orchestration Frameworks', date: 'October 26, 2023', summary: "Comparing the current landscape of tools for managing multi-agent systems. What works, what doesn't, and where are the opportunities..." },
            { slug: 'neural-nets-practical-applications', title: 'Neural Nets: Beyond the Hype - Practical Applications', date: 'September 15, 2023', summary: 'Deep learning is powerful, but applying it effectively requires careful consideration. Discussing real-world use cases...' },
            { slug: 'data-driven-change-management', title: 'Data-Driven Change Management: Lessons Learned', date: 'August 01, 2023', summary: "Implementing change based on data insights isn't just about the tech; it's about people and process. Sharing some hard-won lessons..." },
            { slug: 'working-smarter-deep-work', title: 'Working Smarter: Tooling for Focused Deep Work', date: 'July 10, 2023', summary: 'An exploration of tools and techniques that genuinely help improve focus and productivity in a world full of distractions...' }
        ];
        const projectsConfig = [ // Define projects
             { slug: 'adaptive-workflow-orchestrator', title: 'Concept: Adaptive Workflow Orchestrator', summary: 'Designing a system using agents to dynamically adjust complex workflows based on real-time data feeds and predictive models.', tags: ['AI', 'Agent Orchestration', 'Python', 'Concept'] },
             { slug: 'sentiment-analysis-pipeline', title: 'Experiment: Sentiment Analysis Pipeline', summary: 'Building and evaluating a pipeline using NLP and neural networks to analyze sentiment trends in large text datasets.', tags: ['Neural Networks', 'NLP', 'Python', 'Data Analysis'] },
             { slug: 'smart-meeting-scheduler', title: 'Tool: Smart Meeting Scheduler', summary: 'A prototype tool using constraint satisfaction and user preferences to suggest optimal meeting times.', tags: ['Automation', 'Work Smarter', 'JavaScript', 'Prototype'] },
             { slug: 'nn-activity-explorer', title: 'Viz: Neural Net Activity Explorer', summary: 'An interactive visualization (using p5.js) to explore the activation patterns within a simple trained neural network.', tags: ['Visualization', 'NN', 'p5.js', 'Experiment']}
        ];

        // --- Helper Functions ---
        function slugify(text) { /* ... (slugify function if needed, though slugs are pre-defined now) ... */ }

        // --- SPA View Switching & Content Loading Logic ---
        const views = document.querySelectorAll('.view');
        const navLinks = document.querySelectorAll('.nav-link'); // Use class selector
        const mainContent = document.getElementById('main-content');

        // marked.js setup (optional: configure options if needed)
        // marked.setOptions({ ... });

        // Function to load Markdown Content
        async function loadMarkdownContent(type, slug) {
            // Ensure elements exist before trying to access them
            const contentArea = document.getElementById(`${type}-content`);
            const contentWrapper = document.getElementById(`${type}-content-area`); // Use the wrapper div
            const titleElement = document.getElementById(`${type}-title`);
            const metaElement = document.getElementById(`${type}-meta`);

             if (!contentArea || !contentWrapper) {
                console.error(`Error: Content area for type "${type}" not found.`);
                return;
            }

            // Add loading indicator dynamically inside the wrapper
            contentWrapper.innerHTML = '<p class="loading-indicator">Loading content...</p>';
            const loadingIndicator = contentWrapper.querySelector('.loading-indicator');


            // Find matching config item
            const config = (type === 'post' ? blogPostsConfig : projectsConfig);
            const itemConfig = config.find(item => item.slug === slug);

            // Update title/meta if elements exist
            if (titleElement && itemConfig) titleElement.textContent = itemConfig.title;
            else if (titleElement) titleElement.textContent = 'Loading...'; // Default title while loading

            if (metaElement && itemConfig && itemConfig.date) metaElement.textContent = `Published on: ${itemConfig.date}`;
            else if (metaElement) metaElement.textContent = '';

            const filePath = `${type}s/${slug}.md`;

            try {
                const response = await fetch(filePath);
                if (!response.ok) {
                    throw new Error(`Could not load ${filePath}. Status: ${response.status}`);
                }
                const markdownText = await response.text();
                const htmlContent = marked.parse(markdownText);

                // Create the article element again after clearing
                const articleElement = document.createElement('article');
                articleElement.className = 'markdown-content';
                articleElement.id = `${type}-content`; // Reset the ID
                articleElement.innerHTML = htmlContent;

                // Clear wrapper and append the new article
                contentWrapper.innerHTML = '';
                contentWrapper.appendChild(articleElement);

            } catch (error) {
                console.error('Error loading Markdown:', error);
                 // Display error inside the wrapper
                contentWrapper.innerHTML = `<p class="error-message">Sorry, could not load content (${error.message}). Please ensure you are running a local server.</p>`;
                 if (titleElement) titleElement.textContent = 'Error Loading Content'; // Update title on error
            }
            // No need for finally block to remove indicator as contentWrapper.innerHTML handles it
        }

        // Function to show the correct view
        function showView(viewId, slug = null) {
            views.forEach(view => {
                view.classList.remove('active');
                view.setAttribute('aria-hidden', 'true');
                view.style.display = 'none';
            });

            const activeView = document.getElementById(`view-${viewId}`);
            const targetView = activeView ? activeView : document.getElementById('view-front');

            targetView.style.display = 'block';
            setTimeout(() => targetView.classList.add('active'), 10);
            targetView.removeAttribute('aria-hidden');
            targetView.setAttribute('tabindex', '-1');
            targetView.focus({ preventScroll: true });

            // Update nav link active state
             navLinks.forEach(link => {
                 const linkTargetView = link.getAttribute('data-view');
                 link.classList.toggle('active', linkTargetView === viewId && viewId !== 'post'); // Don't highlight nav for specific post
             });

             // Ensure 'Blog' is active when viewing a post
             if (viewId === 'post') {
                 document.querySelector('nav a[data-view="blog"]')?.classList.add('active');
             }


            mainContent.scrollTop = 0;

            // Load content for detail views
            if (viewId === 'post' && slug) {
                loadMarkdownContent('post', slug);
            } else if (viewId === 'post') {
                 // Handle direct access to #post without slug
                 const postContentWrapper = document.getElementById('post-content-area');
                 const titleElement = document.getElementById('post-title');
                 const metaElement = document.getElementById('post-meta');
                 if(postContentWrapper) postContentWrapper.innerHTML = '<p class="error-message">Please select a post to view from the Blog list.</p>';
                 if(titleElement) titleElement.textContent = 'No Post Selected';
                 if(metaElement) metaElement.textContent = '';
            }
            // Add similar logic for project detail if implemented
        }

        // Function to handle navigation clicks and hash changes
        function handleNavigation(event) {
            const targetLink = event.target.closest('a');
            if (!targetLink || !targetLink.href) return;
            const url = new URL(targetLink.href, window.location.href);

            if (url.origin === window.location.origin && url.pathname === window.location.pathname && url.hash) {
                event.preventDefault();
                if (window.location.hash !== url.hash) {
                    window.location.hash = url.hash;
                } else {
                    // Manually trigger if hash is the same (e.g., clicking link for current view)
                    const { viewId, slug } = parseHash(url.hash);
                    showView(viewId, slug);
                }
            }
        }
        function parseHash(hash) {
            const hashValue = hash.substring(1);
            const parts = hashValue.split('/');
            const viewId = parts[0] || 'front';
            const slug = parts[1] || null;
            return { viewId, slug };
        }

        // --- Event Listeners ---
        document.addEventListener('click', handleNavigation);
        window.addEventListener('hashchange', () => {
            const { viewId, slug } = parseHash(window.location.hash);
            showView(viewId, slug);
        });

        // --- Dynamic Content Population ---
        function populateBlogList() {
            const blogListContainer = document.getElementById('blog-list-full');
            if (!blogListContainer) return;
            blogListContainer.innerHTML = '';
            if (blogPostsConfig.length === 0) {
                blogListContainer.innerHTML = '<p>No posts available yet.</p>'; return;
            }
            blogPostsConfig.forEach(post => {
                const article = document.createElement('article');
                article.innerHTML = `
                    <h4><a href="#post/${post.slug}" data-view="post">${post.title}</a></h4>
                    <p class="blog-meta">Published on: ${post.date}</p>
                    <p>${post.summary}</p>
                    <a href="#post/${post.slug}" data-view="post">Read More »</a>`;
                blogListContainer.appendChild(article);
            });
        }
        function populateProjectGrid() {
            const projectGridContainer = document.getElementById('project-grid-full');
            if (!projectGridContainer) return;
            projectGridContainer.innerHTML = '';
             if (projectsConfig.length === 0) {
                 projectGridContainer.innerHTML = '<p>No projects listed yet.</p>'; return;
             }
            projectsConfig.forEach(project => {
                const card = document.createElement('div');
                card.className = 'project-card';
                const tagSpans = project.tags.map(tag => `<span>${tag}</span>`).join('');
                card.innerHTML = `
                    <h4>${project.title}</h4>
                    <p>${project.summary}</p>
                    <div class="project-tags">${tagSpans}</div>`;
                projectGridContainer.appendChild(card);
            });
        }
        function populateFrontPageCollections() {
            const maxItems = 3;
            const postsList = document.getElementById('latest-posts-list');
            postsList.innerHTML = '';
            if (blogPostsConfig.length > 0) {
                blogPostsConfig.slice(0, maxItems).forEach(post => {
                    const li = document.createElement('li');
                    li.innerHTML = `<a href="#post/${post.slug}" data-view="post">${post.title}</a><span class="item-meta">Published on: ${post.date}</span>`;
                    postsList.appendChild(li);
                });
            } else { postsList.innerHTML = '<li>No posts available yet.</li>'; }

            const projectsList = document.getElementById('recent-projects-list');
            projectsList.innerHTML = '';
            if (projectsConfig.length > 0) {
                projectsConfig.slice(0, maxItems).forEach(project => {
                    const li = document.createElement('li');
                    li.innerHTML = `<a href="#projects" data-view="projects">${project.title}</a><span class="item-meta">${project.summary.substring(0, 100)}${project.summary.length > 100 ? '...' : ''}</span>`;
                    projectsList.appendChild(li);
                });
            } else { projectsList.innerHTML = '<li>No projects listed yet.</li>'; }
        }

        // --- Initial Load ---
        window.addEventListener('DOMContentLoaded', () => {
            populateFrontPageCollections();
            populateBlogList();
            populateProjectGrid();
            const { viewId, slug } = parseHash(window.location.hash);
            showView(viewId, slug);
            document.getElementById('currentYear').textContent = new Date().getFullYear();
            const mediaQuery = window.matchMedia('(prefers-reduced-motion: reduce)');
            if (mediaQuery.matches) {
                console.log("Reduced motion preference detected.");
                document.body.classList.add('reduced-motion');
                p5Instance?.noLoop();
            }
        });

        // --- p5.js Sketch ---
        let p5Instance;
        const sketch = (p) => {
            // ... (p5.js sketch code - unchanged) ...
              let particles = [];
            let numParticles;
            const baseNumParticles = 250; // << INCREASED particle count
            const particleColor = [77, 184, 255];
            const connectionColor = [77, 184, 255];
            const maxDist = 100; // Keep connection distance reasonable
            const mouseRepelDist = 90;
            const mouseRepelForce = 0.4; // Slightly less aggressive repel

            class Particle {
                constructor() {
                    this.pos = p.createVector(p.random(p.width), p.random(p.height));
                    this.vel = p5.Vector.random2D().mult(p.random(0.1, 0.4)); // << SLOWER initial velocity
                    this.acc = p.createVector(0, 0);
                    this.maxSpeed = 0.6; // << SLOWER max speed
                    this.noiseScalePos = 0.004;
                    this.noiseScaleTime = 0.0001; // << SLOWER noise evolution
                    this.baseSize = p.random(1.5, 3.5); // Vary particle size slightly
                }
                applyForce(force) { this.acc.add(force); }
                update() {
                    let angle = p.noise(this.pos.x * this.noiseScalePos, this.pos.y * this.noiseScalePos, p.frameCount * this.noiseScaleTime) * p.TWO_PI * 2; // Less angle change
                    let wanderForce = p5.Vector.fromAngle(angle);
                    wanderForce.setMag(0.02); // << WEAKER wander force
                    this.applyForce(wanderForce);

                    let mouseVec = p.createVector(p.mouseX, p.mouseY);
                    let distToMouse = this.pos.dist(mouseVec);
                    if (distToMouse < mouseRepelDist && p.mouseX > 0 && p.mouseX < p.width && p.mouseY > 0 && p.mouseY < p.height) {
                        let repel = p5.Vector.sub(this.pos, mouseVec);
                        let strength = p.map(distToMouse, 0, mouseRepelDist, mouseRepelForce, 0);
                        repel.setMag(strength);
                        this.applyForce(repel);
                    }

                    this.vel.add(this.acc);
                    this.vel.limit(this.maxSpeed);
                    this.pos.add(this.vel);
                    this.acc.mult(0);
                    this.edges();
                }
                edges() {
                    if (this.pos.x > p.width + 10) this.pos.x = -10;
                    if (this.pos.x < -10) this.pos.x = p.width + 10;
                    if (this.pos.y > p.height + 10) this.pos.y = -10;
                    if (this.pos.y < -10) this.pos.y = p.height + 10;
                }
                display() {
                    p.noStroke();
                    p.fill(particleColor[0], particleColor[1], particleColor[2], 180); // More solid particles
                    p.ellipse(this.pos.x, this.pos.y, this.baseSize, this.baseSize); // Use baseSize
                }
                connect(others) {
                    for (let other of others) {
                        if (other === this) continue;
                        let d = this.pos.dist(other.pos);
                        if (d < maxDist) {
                            let alpha = p.map(d, 0, maxDist, 50, 0); // Keep lines subtle
                            p.stroke(connectionColor[0], connectionColor[1], connectionColor[2], alpha);
                            p.strokeWeight(0.6); // Slightly thicker lines
                            p.line(this.pos.x, this.pos.y, other.pos.x, other.pos.y);
                        }
                    }
                }
            } // End Particle Class

            p.setup = () => {
                let canvas = p.createCanvas(p.windowWidth, p.windowHeight);
                canvas.parent('p5-background');
                // Adjust particle count based on screen area for better density scaling
                numParticles = Math.floor(baseNumParticles * (p.width * p.height) / (1920 * 1080));
                numParticles = p.constrain(numParticles, 80, 400); // Min 80, Max 400 particles
                particles = [];
                for (let i = 0; i < numParticles; i++) { particles.push(new Particle()); }
                 // Only log if not reduced motion
                 if (!document.body.classList.contains('reduced-motion')) {
                    console.log(`p5 Background Initialized with ${numParticles} particles.`);
                 }
            };
            p.draw = () => {
                if (!document.body.classList.contains('reduced-motion')) { // Only draw if motion is enabled
                    p.clear();
                    for (let i = particles.length - 1; i >= 0; i--) {
                        particles[i].update();
                        particles[i].display();
                        particles[i].connect(particles);
                    }
                 } else {
                     p.clear(); // Keep canvas clear if motion is reduced
                 }
            };
            p.windowResized = () => {
                 if (!document.body.classList.contains('reduced-motion')) { // Don't resize if animation is off
                    p.resizeCanvas(p.windowWidth, p.windowHeight);
                    numParticles = Math.floor(baseNumParticles * (p.width * p.height) / (1920 * 1080));
                    numParticles = p.constrain(numParticles, 80, 400);
                    particles = [];
                    for (let i = 0; i < numParticles; i++) { particles.push(new Particle()); }
                    console.log(`Resized. Particle count: ${numParticles}`);
                }
            }
        }; // End Sketch
        p5Instance = new p5(sketch);

    </script>
    <!-- ============================================= -->
    <!-- END OF JAVASCRIPT CODE -->
    <!-- ============================================= -->

</body>
</html>